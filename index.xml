<?xml-stylesheet href="/rss.xsl" type="text/xsl"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>kevzhang's Blog</title><link>https://kevzhang.top/</link><description>Recent content on kevzhang's Blog</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Sat, 15 Oct 2022 10:54:00 +0800</lastBuildDate><atom:link href="https://kevzhang.top/index.xml" rel="self" type="application/rss+xml"/><item><title>Azkaban 配置邮件及电话告警</title><link>https://kevzhang.top/posts/azkaban_alert/</link><pubDate>Sat, 15 Oct 2022 10:54:00 +0800</pubDate><guid>https://kevzhang.top/posts/azkaban_alert/</guid><description>kevzhang's Blog https://kevzhang.top/posts/azkaban_alert/ -&lt;h3 id="通过邮件方式">通过邮件方式&lt;/h3>
&lt;ul>
&lt;li>修改 Azkaban Web Server 端的 &lt;code>azkaban.properties&lt;/code> 配置文件
配置参数&lt;/li>
&lt;/ul>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>mail.sender&lt;/td>
&lt;td>The email address that azkaban uses to send emails.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>mail.host&lt;/td>
&lt;td>The email server host machine.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>mail.user&lt;/td>
&lt;td>The email server user name.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>mail.password&lt;/td>
&lt;td>The email password user name.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;pre tabindex="0">&lt;code># 开通smtp服务后，设置邮件发送服务器
mail.sender=你的邮箱
mail.host=你的邮箱对应的smtp服务器（例如：smtp.163.com）
mail.user=你的邮箱
mail.password=你的邮箱的授权码（在开通smtp服务后获得的授权码）
&lt;/code>&lt;/pre>&lt;ul>
&lt;li>保存上述修改的配置文件，重启 Web Server&lt;/li>
&lt;/ul>
&lt;pre tabindex="0">&lt;code>[xxx@hostname azkaban-web]$ bin/shutdown-web.sh
[xxx@hostname azkaban-web]$ bin/start-web.sh
&lt;/code>&lt;/pre>&lt;ul>
&lt;li>
&lt;p>在 Notification 中填写接收报警通知的邮箱并执行 Project&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Project 执行结束并收到对应的通知邮件&lt;/p>
&lt;/li>
&lt;/ul>
&lt;!-- raw HTML omitted -->
&lt;p>&lt;img src="https://kevzhang.top/azkaban_alert/email.jpg" alt="">&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;h3 id="通过电话方式">通过电话方式&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>通过邮件接收报警通知可能存在接收消息不及时的问题，因此可以采用电话的方式接收报警通知。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>可以集成第三方的告警平台。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Azkaban 配置的 smtp 邮箱将告警邮件发送到第三方的告警平台提供的邮箱，第三方服务邮箱收到邮件后执行电话通知的任务。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>执行 Project 后等待几十秒或几分钟就会收到机器人语音来电，通知告警消息。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>后续可在第三方告警平台及时查看每日的告警详细记录。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;!-- raw HTML omitted -->
&lt;p>&lt;img src="https://kevzhang.top/azkaban_alert/phone.jpg" alt="">&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;h3 id="参考链接">参考链接&lt;/h3>
&lt;p>&lt;a href="https://azkaban.readthedocs.io/en/latest/configuration.html">configuration.html&lt;/a>&lt;/p>
- https://kevzhang.top/posts/azkaban_alert/ -</description></item><item><title>关于</title><link>https://kevzhang.top/about/</link><pubDate>Sun, 04 Sep 2022 21:39:46 +0800</pubDate><guid>https://kevzhang.top/about/</guid><description>kevzhang's Blog https://kevzhang.top/about/ -&lt;h2 id="此页面内容有待更新">此页面内容有待更新&lt;/h2>
- https://kevzhang.top/about/ -</description></item></channel></rss>