<!doctype html><html class="not-ready text-sm lg:text-base" style=--bg:#faf6f1 lang=zh-cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>Azkaban 配置邮件及电话告警 -</title><meta name=theme-color><meta name=description content="通过邮件方式 修改 Azkaban Web Server 端的 azkaban.properties 配置文件 配置参数 Parameter Description mail.sender The email address that azkaban uses to send emails. mail.host The email server host machine. mail.user The email server user name. mail.password The email password user name. # 开通smtp服务后，设置邮件发送服务器 mail.sender=你的邮箱 mail.host=你的邮箱对应的smtp服务器（例如：smtp.163.com） mail.user=你的邮箱 mail.password=你的邮箱的授权码（在开通smtp服务后获得的授权码） 保存上述修改的配置文件，重启 Web Server [xxx@hostname azkaban-web]$ bin/shutdown-web.sh [xxx@hostname azkaban-web]$ bin/start-web.sh 在 Notification 中填写接收报警通知的邮箱并执行 Project
Project 执行结束并收到对应的通知邮件
通过电话方式 通过邮件接收报警通知可能存在接收消息不及时的问题，因此可以采用电话的方式接收报警通知。
可以集成第三方的告警平台。
Azkaban 配置的 smtp 邮箱将告警邮件发送到第三方的告警平台提供的邮箱，第三方服务邮箱收到邮件后执行电话通知的任务。
执行 Project 后等待几十秒或几分钟就会收到机器人语音来电，通知告警消息。"><meta name=author content><link rel="preload stylesheet" as=style href=https://kevzhang.top/main.min.css><link rel=preload as=image href=https://kevzhang.top/theme.png><link rel=preload as=image href="https://www.gravatar.com/avatar/6fd8df4abe41f17fd8e2dd7d97b5cc8c?s=160&d=identicon"><link rel=preload as=image href=https://kevzhang.top/github.svg><link rel=icon href=https://kevzhang.top/favicon.ico><link rel=apple-touch-icon href=https://kevzhang.top/apple-touch-icon.png><meta name=generator content="Hugo 0.104.3"><meta property="og:title" content="Azkaban 配置邮件及电话告警"><meta property="og:description" content="之后试试 DolphinScheduler，看起来不错。"><meta property="og:type" content="article"><meta property="og:url" content="https://kevzhang.top/posts/azkaban_alert/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-10-15T10:54:00+08:00"><meta property="article:modified_time" content="2022-10-15T10:54:00+08:00"><meta itemprop=name content="Azkaban 配置邮件及电话告警"><meta itemprop=description content="之后试试 DolphinScheduler，看起来不错。"><meta itemprop=datePublished content="2022-10-15T10:54:00+08:00"><meta itemprop=dateModified content="2022-10-15T10:54:00+08:00"><meta itemprop=wordCount content="73"><meta itemprop=keywords content="Azkaban,"><meta name=twitter:card content="summary"><meta name=twitter:title content="Azkaban 配置邮件及电话告警"><meta name=twitter:description content="之后试试 DolphinScheduler，看起来不错。"></head><body class="text-black duration-200 ease-out dark:text-white"><header class="mx-auto flex h-[5rem] max-w-3xl px-8 lg:justify-center"><div class="relative z-50 mr-auto flex items-center"><a class="-translate-x-[1px] -translate-y-0.5 text-3xl font-bold" href=https://kevzhang.top/></a>
<a class="btn-dark ml-6 h-6 w-6 shrink-0 cursor-pointer [background:url(./theme.png)_left_center/_auto_theme('spacing.6')_no-repeat] [transition:_background-position_0.4s_steps(5)] dark:[background-position:right]"></a></div><a class="btn-menu relative z-50 -mr-8 flex h-[5rem] w-[5rem] shrink-0 cursor-pointer flex-col items-center justify-center gap-2.5 lg:hidden"></a>
<script>const htmlClass=document.documentElement.classList;setTimeout(()=>{htmlClass.remove("not-ready")},10);const btnMenu=document.querySelector(".btn-menu");btnMenu.addEventListener("click",()=>{htmlClass.toggle("open")});const metaTheme=document.querySelector('meta[name="theme-color"]'),lightBg=`"#faf6f1"`.replace(/"/g,""),setDark=e=>{metaTheme.setAttribute("content",e?"#000":lightBg),htmlClass[e?"add":"remove"]("dark"),localStorage.setItem("dark",e)},darkScheme=window.matchMedia("(prefers-color-scheme: dark)");if(htmlClass.contains("dark"))setDark(!0);else{const e=localStorage.getItem("dark");setDark(e?e==="true":darkScheme.matches)}darkScheme.addEventListener("change",e=>{setDark(e.matches)});const btnDark=document.querySelector(".btn-dark");btnDark.addEventListener("click",()=>{setDark(localStorage.getItem("dark")!=="true")})</script><div class="nav-wrapper fixed inset-x-0 top-full z-40 flex h-full select-none flex-col justify-center pb-16 duration-200 dark:bg-black lg:static lg:h-auto lg:flex-row lg:!bg-transparent lg:pb-0 lg:transition-none"><nav class="mt-12 flex justify-center space-x-10 dark:invert lg:mt-0 lg:ml-12 lg:items-center lg:space-x-6"><a class="h-8 w-8 [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6" style=--url:url(./github.svg) href=https://github.com/kevcode1 target=_blank></a></nav></div></header><main class="prose prose-neutral relative mx-auto min-h-[calc(100%-10rem)] max-w-3xl px-8 pt-20 pb-32 dark:prose-invert"><article><header class=mb-20><h1 class="!my-0 pb-2.5">Azkaban 配置邮件及电话告警</h1><div class="text-sm opacity-60"><time>Oct 15, 2022</time></div></header><section><h2 id=通过邮件方式>通过邮件方式</h2><ul><li>修改 Azkaban Web Server 端的 <code>azkaban.properties</code> 配置文件
配置参数</li></ul><table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td>mail.sender</td><td>The email address that azkaban uses to send emails.</td></tr><tr><td>mail.host</td><td>The email server host machine.</td></tr><tr><td>mail.user</td><td>The email server user name.</td></tr><tr><td>mail.password</td><td>The email password user name.</td></tr></tbody></table><pre tabindex=0><code># 开通smtp服务后，设置邮件发送服务器
mail.sender=你的邮箱
mail.host=你的邮箱对应的smtp服务器（例如：smtp.163.com）
mail.user=你的邮箱
mail.password=你的邮箱的授权码（在开通smtp服务后获得的授权码）
</code></pre><ul><li>保存上述修改的配置文件，重启 Web Server</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#f92672>[</span>xxx@hostname azkaban-web<span style=color:#f92672>]</span>$ bin/shutdown-web.sh
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>xxx@hostname azkaban-web<span style=color:#f92672>]</span>$ bin/start-web.sh
</span></span></code></pre></div><ul><li><p>在 Notification 中填写接收报警通知的邮箱并执行 Project</p></li><li><p>Project 执行结束并收到对应的通知邮件</p></li></ul><p><img src=/azkaban_alert/email.jpg alt></p><h2 id=通过电话方式>通过电话方式</h2><ul><li><p>通过邮件接收报警通知可能存在接收消息不及时的问题，因此可以采用电话的方式接收报警通知。</p></li><li><p>可以集成第三方的告警平台。</p></li><li><p>Azkaban 配置的 smtp 邮箱将告警邮件发送到第三方的告警平台提供的邮箱，第三方服务邮箱收到邮件后执行电话通知的任务。</p></li><li><p>执行 Project 后等待几十秒或几分钟就会收到机器人语音来电，通知告警消息。</p></li><li><p>后续可在第三方告警平台及时查看每日的告警详细记录。</p></li></ul><p><img src=/azkaban_alert/phone.jpg alt></p><h2 id=参考链接>参考链接</h2><p><a href=https://azkaban.readthedocs.io/en/latest/configuration.html>configuration.html</a></p></section><footer class="mt-12 flex flex-wrap"><a class="mr-1.5 mb-1.5 rounded-lg bg-black/[3%] px-5 py-2 no-underline dark:bg-white/[8%]" href=https://kevzhang.top/tags/azkaban>Azkaban</a></footer><nav class="mt-24 flex rounded-lg bg-black/[3%] text-lg dark:bg-white/[8%]"><a class="flex w-1/2 items-center p-6 pr-3 no-underline" href=https://kevzhang.top/posts/superset/><span class=mr-1.5>←</span><span>Superset 配置环境</span></a></nav></article></main><footer class="opaco mx-auto flex h-[5rem] max-w-3xl items-center px-8 text-[0.9em] opacity-60"><div class=mr-auto>&copy; 2022
<a class=link href=https://kevzhang.top/></a></div><a class="link mx-6" href=https://gohugo.io/ rel=noopener target=_blank>Powered by Hugo️️</a>️
<a class=link href=https://github.com/nanxiaobei/hugo-paper rel=noopener target=_blank>▷ Paper 6</a></footer></body></html>