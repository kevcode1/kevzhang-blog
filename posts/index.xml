<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Posts on</title><link>/posts/</link><description>Recent content in Posts on</description><generator>Hugo -- gohugo.io</generator><lastBuildDate>Sun, 16 Oct 2022 19:05:56 +0800</lastBuildDate><atom:link href="/posts/index.xml" rel="self" type="application/rss+xml"/><item><title>Superset 实践及踩坑记录</title><link>/posts/superset_chart/</link><pubDate>Sun, 16 Oct 2022 19:05:56 +0800</pubDate><guid>/posts/superset_chart/</guid><description>Superset 怎么用 整体布局 首先整体的布局分为 Databases、Datasets、Charts、Dashboards 等几个部分。 Databases Select a database to connect
填写需要连接的数据库，数据库连接配置信息可以参考官方文档填写。 Datasets Add dataset
添加连接的数据库中的具体的表，数据库连接成功后下拉即可点击选择需要的表。 Charts Create a new chart
从 Datasets 中选择一张需要可视化的表。 根据实际的需求选择图表的类型，配置详细的展示信息。例如绘制地图类型的图表，展现不同省份的下单次数。 踩坑问题： 这里就出现了一个非常坑的地方，绘制地图所用的表提供了两种编码用于标识省份，iso_code和iso_code_3166_2，用哪个都可以。 但在 Superset 中选择第一种编码则只能显示港澳台地区的数据，其他地区无法显示；而选择第二种编码则港澳台地区无法显示，其他地区可以显示。一番搜索发现是 Superset 在港澳台和其他地区提供的编码方式不一致导致的问题。
解决方法： 按照解决方法，进入 Superset 的安装目录下的目录。
/lib/python3.8/site-packages/superset/static/assets/ 找到对应的地图文件，.geojson 文件有很多，过滤找出文件，
grep -rl 'Beijing'
并修改，将编码方式修改一致即可。 Dashboards 编辑布局，添加图表即可完成 Dashboard 绘制。 也可以对 Dashboards 进行刷新，根据需要设置REFRESH FREQUENCY。 参考链接 article_124559112</description></item><item><title>Superset 配置环境</title><link>/posts/superset/</link><pubDate>Sun, 16 Oct 2022 12:00:59 +0800</pubDate><guid>/posts/superset/</guid><description>Superset 配置环境 版本依赖 由于 CentOS 7 内置的 Python 版本为 2.7.5，而在旧版本的文档中提到
Superset supports Python versions &amp;gt;3.7 to take advantage of the newer Python features and reduce the burden of supporting previous versions.
在新版本的文档中按照提供的命令即可完成所需依赖的安装。 Miniconda 安装 Miniconda 用于管理 Python 版本及其依赖。 常用命令 创建环境 [xxx@hostname ~]$ conda create -n env_name 查看所有环境 [xxx@hostname ~]$ conda info --envs 删除一个环境 [xxx@hostname ~]$ conda remove -n env_name --all 切换环境 (base) [xxx@hostname ~]$ conda activate superset (superset) [xxx@hostname ~]$ conda deactivate 创建 Python 3.</description></item><item><title>Azkaban 配置邮件及电话告警</title><link>/posts/azkaban_alert/</link><pubDate>Sat, 15 Oct 2022 10:54:00 +0800</pubDate><guid>/posts/azkaban_alert/</guid><description>通过邮件方式 修改 Azkaban Web Server 端的 azkaban.properties 配置文件 配置参数 Parameter Description mail.sender The email address that azkaban uses to send emails. mail.host The email server host machine. mail.user The email server user name. mail.password The email password user name. # 开通smtp服务后，设置邮件发送服务器 mail.sender=你的邮箱 mail.host=你的邮箱对应的smtp服务器（例如：smtp.163.com） mail.user=你的邮箱 mail.password=你的邮箱的授权码（在开通smtp服务后获得的授权码） 保存上述修改的配置文件，重启 Web Server [xxx@hostname azkaban-web]$ bin/shutdown-web.sh [xxx@hostname azkaban-web]$ bin/start-web.sh 在 Notification 中填写接收报警通知的邮箱并执行 Project
Project 执行结束并收到对应的通知邮件
通过电话方式 通过邮件接收报警通知可能存在接收消息不及时的问题，因此可以采用电话的方式接收报警通知。
可以集成第三方的告警平台。
Azkaban 配置的 smtp 邮箱将告警邮件发送到第三方的告警平台提供的邮箱，第三方服务邮箱收到邮件后执行电话通知的任务。
执行 Project 后等待几十秒或几分钟就会收到机器人语音来电，通知告警消息。</description></item></channel></rss>